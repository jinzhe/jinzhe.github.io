webpackJsonp([1],{24:function(e,t,a){function s(e){a(59)}var i=a(23)(a(26),a(62),s,"data-v-14f19efd",null);e.exports=i.exports},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(29),i=a.n(s),r=a(61),n=a.n(r);t.default={name:"app",components:{upload:n.a},data:function(){var e=this;return{upload:{action:"http://113.209.72.220/demo-upload.php",headers:{Accept:"application/json; charset=utf-8"},name:"file",limit:10,accepts:["image/jpeg","image/png","image/gif"],multiple:!0,queue:!0,progress:function(e){console.log(e)},success:function(t){e.upload.result=t},error:function(e,t){if("limit"==e){var a=!0,s=!1,r=void 0;try{for(var n,o=i()(t);!(a=(n=o.next()).done);a=!0){var u=n.value;console.log("超过上传上限",u.type,u.name,(u.size/1024/1024).toFixed(2)+"MB")}}catch(e){s=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw r}}}"empty"==e&&alert("请选择文件"),"action"==e&&alert("没有指定上传接口api"),"server"==e&&alert("服务器繁忙")},result:""},upload2:{action:"http://113.209.72.220/demo-upload.php",data:{time:Date.now()},chunked:!0,auto:!1,accepts:["application/zip"],multiple:!0,queue:!0,progress:function(e){console.log(e)},success:function(t){e.upload2.result="/data/"+t},error:function(e,t){if("limit"==e){var a=!0,s=!1,r=void 0;try{for(var n,o=i()(t);!(a=(n=o.next()).done);a=!0){var u=n.value;console.log("超过上传上限",u.type,u.name,(u.size/1024/1024).toFixed(2)+"MB")}}catch(e){s=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw r}}}"empty"==e&&alert("请选择文件"),"action"==e&&alert("没有指定上传接口api"),"server"==e&&alert("服务器繁忙")},result:""}}},methods:{submit:function(){this.$refs.upload.submit()}}}},27:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{action:{type:String},headers:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},dataType:{type:String},auto:{type:Boolean,default:!0},name:{type:String,default:"file"},limit:{type:Number},accepts:{type:Array,default:function(){return["image/jpeg","image/png","image/gif"]}},multiple:{type:Boolean,default:!0},chunked:{type:Boolean,default:!1},queue:{type:Boolean,default:!0}},data:function(){return{files:[],safeFiles:[],unsafeFiles:[],input:null}},methods:{change:function(e){this.input=e.target,this.files=[],this.unsafeFiles=[],this.files=e.target.files||e.dataTransfer.files;for(var t,a=0;t=this.files[a];a++)void 0==this.limit?this.addFile(t):t.size<=1024*this.limit*1024?this.addFile(t):this.unsafeFiles.push(t);this.auto&&(this.upload(),this.safeFiles=[])},addFile:function(e){for(var t,a=!1,s=0;t=this.safeFiles[s];s++)e.name==t.name&&(a=!0);a||(e.progress=0,this.safeFiles.push(e))},upload:function(){var e=this;if(this.unsafeFiles.length>0)return this.$emit("error","limit",this.unsafeFiles),!1;if(0==this.safeFiles.length)return this.$emit("error","empty"),!1;if(void 0==this.action)return this.$emit("error","action"),!1;this.input.value="";for(var t,a=0;t=this.safeFiles[a];a++)!function(t){console.log(t),t.size>5242880&&e.chunked?e.uploadChunked(t):e.uploadNormal(t)}(t)},uploadNormal:function(e){var t=this;if(e.xhr=new XMLHttpRequest,e.xhr.upload){var a=new FormData;if(a.append(this.name,e),void 0!=this.data)for(var s in this.data)a.append(s,this.data[s]);if(e.xhr.upload.addEventListener("progress",function(a){e.progress=Math.floor(a.loaded/a.total*100),100==e.progress&&window.setTimeout(function(){e.done=!0,t.$forceUpdate()},1e3),t.$emit("progress",e.progress),t.$forceUpdate()},!1),e.xhr.onreadystatechange=function(a){if(4==e.xhr.readyState)if(200==e.xhr.status){var s=e.xhr.responseText;"json"==t.dataType&&(s=JSON.parse(s)),t.$emit("success",s)}else t.$emit("error","server",t.file)},e.xhr.open("POST",this.action,!0),void 0!=this.headers)for(var i in this.headers)e.xhr.setRequestHeader(i,this.headers[i]);e.xhr.withCredentials=!1,e.xhr.send(a)}},uploadChunked:function(e){var t=this,a=Math.random().toString(36).substr(2),s=Math.ceil(e.size/1048576),i=0,r=0;!function n(){var o=1048576*i,u=o+1048576;if(e.xhr=new XMLHttpRequest,e.xhr.upload){var l=new FormData;if(l.append("chunked","true"),l.append("chunkedIndex",i),l.append("chunkedID",a),l.append("chunkedTotal",s),l.append("chunkedData",e.slice(o,u)),void 0!=t.data)for(var p in t.data)l.append(p,t.data[p]);if(e.xhr.upload.addEventListener("progress",function(a){r+=a.loaded,e.progress=Math.floor(r/e.size*100),100==e.progress&&window.setTimeout(function(){e.done=!0,t.$forceUpdate()},1e3),t.$emit("progress",e.progress),t.$forceUpdate()},!1),e.xhr.onreadystatechange=function(a){if(4==e.xhr.readyState)if(200==e.xhr.status){var r=e.xhr.responseText;"json"==t.dataType&&(r=JSON.parse(r)),i++,i<s&&n(),t.$emit("success",r)}else t.$emit("error","server",t.file)},e.xhr.open("POST",t.action,!0),void 0!=t.headers)for(var d in t.headers)e.xhr.setRequestHeader(d,t.headers[d]);e.xhr.withCredentials=!1,e.xhr.send(l)}}()},submit:function(){this.upload()},cancel:function(e){this.safeFiles[e].xhr&&this.safeFiles[e].xhr.abort(),this.safeFiles.splice(e,1),this.input.value=""}}}},28:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(25),i=a(24),r=a.n(i);s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:r.a}})},59:function(e,t){},60:function(e,t){},61:function(e,t,a){function s(e){a(60)}var i=a(23)(a(27),a(63),s,"data-v-ea992a96",null);e.exports=i.exports},62:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",{staticStyle:{color:"Red"}},[e._v("上传空间是jd云服务器将在2017-08-13日到期")]),e._v(" "),a("h3",[e._v("自动上传")]),e._v(" "),a("upload",{attrs:{action:e.upload.action,headers:e.upload.headers,data:e.upload.data,name:e.upload.name,limit:e.upload.limit,accepts:e.upload.accepts,multiple:e.upload.multiple,queue:e.upload.queue},on:{progress:e.upload.progress,success:e.upload.success,error:e.upload.error}},[a("button",{staticClass:"select"},[e._v("上传图片")])]),e._v("\n\n    "+e._s(e.upload.result)+"\n\n    "),e._m(0),e._v(" "),a("upload",{ref:"upload",attrs:{action:e.upload2.action,headers:e.upload2.headers,data:e.upload2.data,auto:e.upload2.auto,name:e.upload2.name,limit:e.upload2.limit,accepts:e.upload2.accepts,multiple:e.upload2.multiple,chunked:e.upload2.chunked,queue:e.upload2.queue},on:{progress:e.upload2.progress,success:e.upload2.success,error:e.upload2.error}},[a("button",{staticClass:"select"},[e._v("选择zip压缩包")])]),e._v(" "),a("div",[e._v(e._s(e.upload2.result))]),e._v(" "),a("button",{staticClass:"select",on:{click:e.submit}},[e._v("立即上传")])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[e._v("手动上传/分块上传（需要"),a("a",{attrs:{href:"https://github.com/jinzhe/gum/blob/master/demo-upload.php",target:"_blank"}},[e._v("服务端(Gum)")]),e._v("配合）")])}]}},63:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"__upload__"},[e._t("default"),e._v(" "),a("input",{attrs:{type:"file",accept:e.accepts,multiple:e.multiple},on:{change:function(t){e.change(t)}}})],2),e._v(" "),e.queue&&e.safeFiles.length>0?a("div",{staticClass:"__queue__"},[a("transition-group",{attrs:{name:"fade",mode:"out-in"}},e._l(e.safeFiles,function(t,s){return t.done?e._e():a("div",{key:s,staticClass:"__item__"},[a("div",{staticClass:"__progress__",style:{width:t.progress+"%"}}),e._v(" "),a("div",{staticClass:"__name__"},[a("svg",{attrs:{viewBox:"0 0 1024 1024"}},[a("path",{attrs:{d:"M636.974339 66.552765 139.739625 66.552765l0 890.583384 742.153844 0L881.893468 304.049854 636.974339 66.552765 636.974339 66.552765zM591.950913 348.826664 591.950913 125.932154 822.506916 348.826664 591.950913 348.826664 591.950913 348.826664zM591.950913 348.826664"}})]),e._v("\n\t \t\t\t"+e._s(t.name)+"\n\t \t\t")]),e._v(" "),t.progress>0&&t.progress<100?a("div",{staticClass:"__percent__"},[e._v(e._s(t.progress)+"%")]):e._e(),e._v(" "),t.progress<100?a("div",{staticClass:"__cancel__",on:{click:function(t){e.cancel(s)}}},[a("svg",{attrs:{viewBox:"0 0 1024 1024"}},[a("path",{attrs:{d:"M512.325411 0c-282.578844 0-511.653099 229.075279-511.653099 511.653099 0 282.578844 229.074256 511.653099 511.653099 511.653099s511.653099-229.074256 511.653099-511.653099C1023.978511 229.075279 794.904255 0 512.325411 0zM726.690664 761.454422c-4.821819 4.146437-10.754948 6.183839-16.663518 6.183839-7.194866 0-14.352893-3.022847-19.412119-8.906857L509.457084 548.069497 329.953827 760.043283c-5.059226 5.983271-12.272511 9.05626-19.535939 9.05626-5.838985 0-11.710716-1.986237-16.520255-6.058996-10.780531-9.131985-12.123109-25.269523-2.991124-36.051077l184.773284-218.201627L302.096363 306.936601c-9.212826-10.717086-7.995091-26.868951 2.716878-36.080753 10.711969-9.193383 26.881231-8.000208 36.080753 2.716878L509.160325 469.24729l166.813237-196.993606c9.118682-10.799974 25.296129-12.123109 36.051077-2.991124 10.79281 9.131985 12.130272 25.276686 2.998287 36.056194L542.939663 508.529969l186.472995 216.84984C738.619344 736.083591 737.40775 752.23648 726.690664 761.454422z",fill:"#e84122"}})])]):e._e(),e._v(" "),100==t.progress?a("div",{staticClass:"__success__"},[a("svg",{attrs:{viewBox:"0 0 1024 1024"}},[a("path",{attrs:{d:"M512 0C229.239467 0 0 229.239467 0 512s229.239467 512 512 512 512-229.239467 512-512S794.760533 0 512 0z m-68.778667 699.733333l-0.170666-0.136533-0.1536 0.136533L238.933333 490.376533l35.328-34.594133 168.789334 157.934933L752.298667 324.266667 785.066667 359.287467 443.221333 699.733333z"}})])]):e._e()])}))],1):e._e()])},staticRenderFns:[]}}},[28]);
//# sourceMappingURL=app.e04d4d8b14585ce40142.js.map